// Generated by purs version 0.14.2
"use strict";
var Control_Applicative = require("../Control.Applicative/index.js");
var Control_Bind = require("../Control.Bind/index.js");
var Data_Either = require("../Data.Either/index.js");
var Data_Function = require("../Data.Function/index.js");
var Data_Functor = require("../Data.Functor/index.js");
var Data_Functor_Variant = require("../Data.Functor.Variant/index.js");
var Data_Maybe = require("../Data.Maybe/index.js");
var Data_Symbol = require("../Data.Symbol/index.js");
var Data_Unit = require("../Data.Unit/index.js");
var Run = require("../Run/index.js");
var Type_Proxy = require("../Type.Proxy/index.js");
var Except = function (x) {
    return x;
};
var runExceptAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            var handle = Data_Functor_Variant.on()(dictIsSymbol)(sym)(Data_Either.Left.create)(Data_Either.Right.create);
            var loop = function (r) {
                var v = Run.peel(r);
                if (v instanceof Data_Either.Left) {
                    var v1 = handle(v.value0);
                    if (v1 instanceof Data_Either.Left) {
                        return Control_Applicative.pure(Run.applicativeRun)(new Data_Either.Left(v1.value0));
                    };
                    if (v1 instanceof Data_Either.Right) {
                        return Control_Bind.bind(Run.bindRun)(Run.send(v1.value0))(loop);
                    };
                    throw new Error("Failed pattern match at Run.Except (line 163, column 15 - line 167, column 29): " + [ v1.constructor.name ]);
                };
                if (v instanceof Data_Either.Right) {
                    return Control_Applicative.pure(Run.applicativeRun)(new Data_Either.Right(v.value0));
                };
                throw new Error("Failed pattern match at Run.Except (line 162, column 12 - line 169, column 21): " + [ v.constructor.name ]);
            };
            return loop;
        };
    };
};
var runFailAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            var $39 = Data_Functor.map(Run.functorRun)(Data_Either.either(Data_Function["const"](Data_Maybe.Nothing.value))(Data_Maybe.Just.create));
            var $40 = runExceptAt(dictIsSymbol)()(sym);
            return function ($41) {
                return $39($40($41));
            };
        };
    };
};
var functorExcept = new Data_Functor.Functor(function (f) {
    return function (m) {
        return m;
    };
});
var liftExceptAt = function (dictIsSymbol) {
    return function (dictCons) {
        return Run.lift()(dictIsSymbol)(functorExcept);
    };
};
var throwAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            var $42 = liftExceptAt(dictIsSymbol)()(sym);
            return function ($43) {
                return $42(Except($43));
            };
        };
    };
};
var noteAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            return function (e) {
                return Data_Maybe["maybe'"](function (v) {
                    return throwAt(dictIsSymbol)()(sym)(e);
                })(Control_Applicative.pure(Run.applicativeRun));
            };
        };
    };
};
var rethrowAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            return Data_Either.either(throwAt(dictIsSymbol)()(sym))(Control_Applicative.pure(Run.applicativeRun));
        };
    };
};
var fromJustAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            return noteAt(dictIsSymbol)()(sym)(Data_Unit.unit);
        };
    };
};
var failAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            return throwAt(dictIsSymbol)()(sym)(Data_Unit.unit);
        };
    };
};
var catchAt = function (dictIsSymbol) {
    return function (dictCons) {
        return function (sym) {
            var handle = Data_Functor_Variant.on()(dictIsSymbol)(sym)(Data_Either.Left.create)(Data_Either.Right.create);
            var loop = function (k) {
                return function (r) {
                    var v = Run.peel(r);
                    if (v instanceof Data_Either.Left) {
                        var v1 = handle(v.value0);
                        if (v1 instanceof Data_Either.Left) {
                            return k(v1.value0);
                        };
                        if (v1 instanceof Data_Either.Right) {
                            return Control_Bind.bind(Run.bindRun)(Run.send(v1.value0))(loop(k));
                        };
                        throw new Error("Failed pattern match at Run.Except (line 141, column 15 - line 145, column 31): " + [ v1.constructor.name ]);
                    };
                    if (v instanceof Data_Either.Right) {
                        return Control_Applicative.pure(Run.applicativeRun)(v.value0);
                    };
                    throw new Error("Failed pattern match at Run.Except (line 140, column 14 - line 147, column 13): " + [ v.constructor.name ]);
                };
            };
            return loop;
        };
    };
};
var _except = Type_Proxy["Proxy"].value;
var $$catch = catchAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var fail = failAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var fromJust = fromJustAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var liftExcept = liftExceptAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var note = noteAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var rethrow = rethrowAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var runExcept = runExceptAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var runFail = runFailAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
var $$throw = throwAt(new Data_Symbol.IsSymbol(function () {
    return "except";
}))()(_except);
module.exports = {
    Except: Except,
    "_except": _except,
    liftExcept: liftExcept,
    liftExceptAt: liftExceptAt,
    runExcept: runExcept,
    runExceptAt: runExceptAt,
    runFail: runFail,
    runFailAt: runFailAt,
    "throw": $$throw,
    throwAt: throwAt,
    fail: fail,
    failAt: failAt,
    rethrow: rethrow,
    rethrowAt: rethrowAt,
    note: note,
    noteAt: noteAt,
    fromJust: fromJust,
    fromJustAt: fromJustAt,
    "catch": $$catch,
    catchAt: catchAt,
    functorExcept: functorExcept
};
